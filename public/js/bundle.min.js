const copyBtn=document.getElementById("copy-button"),copyTxt=document.getElementById("copy-text");copyBtn&&copyTxt&&copyBtn.addEventListener("click",()=>{copyTxt.focus(),copyTxt.select();try{const msg=document.execCommand("copy")?"successful":"unsuccessful";console.log("Copying text command was "+msg),copyBtn.innerHTML="Copied URL"}catch(err){console.log("Oops, unable to copy"),copyBtn.innerHTML="Please retry"}});const firebaseConfig={apiKey:"AIzaSyDnBaT31_LbWAjiRd7isQ1pPdiDVD1HmtQ",authDomain:"combinify-b1222.firebaseapp.com",databaseURL:"combinify-b1222-default-rtdb.europe-west1.firebasedatabase.app",projectId:"combinify-b1222",storageBucket:"combinify-b1222.appspot.com",messagingSenderId:"274350746286",appId:"1:274350746286:web:ee843bfbd1f420cb235b3f",measurementId:"G-1PDBZFE48J"};firebase.initializeApp(firebaseConfig);const deleteBtn=document.querySelectorAll(".delete"),playlist=document.querySelector(".playlist-name"),songContainer=document.querySelector(".songs");if(playlist){const afterHashtag=/#([\w\d]+)/.exec(playlist.innerHTML)[1],beforeHashtag=/([\w\d]+)#/.exec(playlist.innerHTML)[1],playlistRef=firebase.database().ref("playlists/"+beforeHashtag);playlistRef.orderByChild("searchKey").on("value",snap=>{console.log(snap.val()),snap.val().searchKey===afterHashtag&&deleteBtn.forEach(btn=>{btn.addEventListener("click",e=>{let songEl=e.currentTarget.previousSibling.previousSibling.childNodes;songEl[1].innerHTML,songEl[3].innerHTML;playlistRef.child("/songs/"+songContainer.classList[1]);e.currentTarget.parentElement.innerHTML=""})})})}const socket=io("localhost:3000"),peopleEl=document.querySelector(".people");socket.on("connect",()=>{console.log("connected")}),socket.on("add users",(users,currentUser)=>{console.log("userInAddUser",users),updateUsers(users,currentUser)}),socket.on("remove user",(users,currentUser)=>{console.log("userInremoveUsers",users),removeUser(users,currentUser)});const removeUser=(users,currentUser)=>{updateUsers(users,currentUser)},updateUsers=(users,currentUser)=>{peopleEl.innerHTML="",console.log(users,currentUser);const sortedUsers=users.sort((user,index)=>user.socketId===currentUser?-1:index===currentUser?1:0);console.log(sortedUsers),sortedUsers.forEach(user=>{const personEl=document.createElement("section");personEl.classList.add("person");const imgEl=document.createElement("img");imgEl.src=user.image;const nameEl=document.createElement("h2"),nameText=document.createTextNode(user.name);nameEl.classList.add("name"),nameEl.appendChild(nameText),personEl.appendChild(imgEl),personEl.appendChild(nameEl),peopleEl.appendChild(personEl)})};